---
layout:     post                    # 使用的布局
title:      Java-volatile作用           # 标题 
subtitle:   Java-volatile作用解析 
date:       2017-06-16              # 时间
author:     Jinliang                      # 作者
header-img: img/post-bg-ios10.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
mathjax: true                       #是否显示公式
tags:                               #标签
    - Java
---

**解决的问题：**
有时为了提高程序的运行效率，编译器会进行优化，优化的方法就是讲访问的变量缓存起来，程序读取这个变量时直接到缓存（例如寄存器）中来读取，而不是去内存中读取。这样做的好处是提高了运行效率，但是遇到多线程时，有可能变量的值因为其他线程改变了，缓存中的值不会改变，这样会导致程序读取的值和实际的值不一致。

**解决：**
volatile是一个类型修饰符，它是被设计用来被不同线程访问和修改的变量。

**原理：**
被volatile类型修饰的变量，系统每次用到它都会到内存中去读取，而不会利用缓存。因此，被volatile修饰的变量，所有线程在任何时候所看到的变量的值都是相同的。

**注意：**
volatile不能保证操作的原子性，因此，不能代替sychronized。而且使用volatile会阻止编译器对代码的优化，会降低程序的执行效率。不要使用volatile就尽量不要使用。